<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SteviewGlobal Technical Services – Support Center</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-50">

  <!-- Header -->
  <header class="bg-blue-700 text-white py-6 shadow flex items-center">
    <div class="max-w-5xl mx-auto px-4 flex items-center">
      <img src="images/steviewglobal_logo.png"
           alt="SteviewGlobal Logo"
           class="h-20 md:h-21 mr-4 object-contain self-center">
      <div>
        <h1 class="text-3xl font-bold">SteviewGlobal Technical Services</h1>
        <p class="mt-1 text-blue-100">Solar • Electrical • CCTV • Smart Home • HVAC</p>
        <p class="text-sm text-blue-200 font-medium">Power & Technology Solutions</p>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="max-w-5xl mx-auto px-4 py-10 space-y-8">

    <section class="bg-white p-6 rounded-2xl shadow">
      <h2 class="text-xl font-semibold mb-2">Welcome to Support</h2>
      <p class="text-gray-700">
        Use the support widget to report an issue, request a phone call, or track assistance from our technical team.
        Tickets are automatically routed to the correct unit for fast response.
      </p>
    </section>

    <section class="grid md:grid-cols-3 gap-4">
      <div class="bg-white p-4 rounded-2xl shadow">
        <h3 class="font-semibold">Solar Power</h3>
        <p class="text-sm text-gray-600">New installation, inverter faults, batteries, charging issues.</p>
      </div>
      <div class="bg-white p-4 rounded-2xl shadow">
        <h3 class="font-semibold">Electrical</h3>
        <p class="text-sm text-gray-600">Wiring faults, protection trips, distribution panels.</p>
      </div>
      <div class="bg-white p-4 rounded-2xl shadow">
        <h3 class="font-semibold">HVAC</h3>
        <p class="text-sm text-gray-600">AC not cooling, servicing, refrigerant issues.</p>
      </div>
      <div class="bg-white p-4 rounded-2xl shadow">
        <h3 class="font-semibold">CCTV</h3>
        <p class="text-sm text-gray-600">Camera offline, DVR setup, remote viewing.</p>
      </div>
      <div class="bg-white p-4 rounded-2xl shadow">
        <h3 class="font-semibold">Smart Home</h3>
        <p class="text-sm text-gray-600">Automation, access control, intercom systems.</p>
      </div>
    </section>

    <section class="bg-white p-6 rounded-2xl shadow">
      <h2 class="text-xl font-semibold mb-2">Need Help?</h2>
      <p class="text-gray-700">
        Click the support icon at the corner of this page to create a ticket.
        Choose your service type and preferred contact method.
      </p>
    </section>

  </main>

  <footer class="text-center text-gray-500 text-sm py-6">
    Demo Support Portal for Portfolio Project
  </footer>

  <!-- Freshdesk Widget -->
  <script>
    function initFreshdesk() {
      window.fdWidget.init({
        token: "01KGZ9HFDW4HMS4169K7BXKVEK",
        host: "https://nnabueze014.freshdesk.com",
        widgetId: "01KH0NS00ZYJEXW4VHAJ6KDS9D"
      });
    }

    function initialize(i, t) {
      var e;
      if (i.getElementById(t)) {
        initFreshdesk();
      } else {
        e = i.createElement("script");
        e.id = t;
        e.async = true;
        e.src = "https://nnabueze014.freshdesk.com/webchat/js/widget.js";
        e.onload = initFreshdesk;
        i.head.appendChild(e);
      }
    }

    function initiateCall() {
      initialize(document, "Freshdesk-js-sdk");
    }

    window.addEventListener
      ? window.addEventListener("load", initiateCall, false)
      : window.attachEvent("load", initiateCall);
  </script>

  <!-- ✅ Widget Submit Time Injection -->
  <script>
    window.addEventListener("load", function () {
      if (!window.fdWidget) return;

      fdWidget.on("widget:loaded", function () {
        fdWidget.on("submit", function (data) {
          const submitTime = new Date().toISOString();

          if (!data.custom_fields) {
            data.custom_fields = {};
          }

          data.custom_fields.widget_submitted_at = submitTime;
        });
      });
    });
  </script>

</body>
</html>
